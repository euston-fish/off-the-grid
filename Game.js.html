<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: Game.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: Game.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>import { gameSource } from '../tmp/game.js';
import Lens from './Lens.js';
import { SIZE } from '../tmp/constants.js';

/**
 * @constructor
 */
function Game() {
  let module = new WebAssembly.Module(gameSource);
  this.game = new WebAssembly.Instance(module, {
    'env': {
      'random': Math.random,
      'log': (x) => console.log('from rust with love: ' + x),
      'logf': (x) => console.log('from rust with love: ' + x),
      'powf': Math.pow
    }
  });
  this.game.exports['init']();
  let memory = this.game.exports['memory'];
  this.address = this.game.exports['address']();
  console.log('address: ' + this.address);
  this.terrain = new Lens(new Uint8Array(memory.buffer, this.address, SIZE * SIZE), [SIZE, SIZE]);
  this.water = new Lens(new Uint8Array(memory.buffer, this.address + SIZE * SIZE, SIZE * SIZE), [SIZE, SIZE]);
}

Game.prototype.tick = function() {
  this.game.exports['tick']();
};

export default Game;
</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Classes</h3><ul><li><a href="Block.html">Block</a></li><li><a href="BlockManager.html">BlockManager</a></li><li><a href="Game.html">Game</a></li><li><a href="GridItem.html">GridItem</a></li><li><a href="Lens.html">Lens</a></li><li><a href="SimplexNoise.html">SimplexNoise</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.5.5</a> on Tue Aug 21 2018 12:51:09 GMT+0000 (UTC)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
